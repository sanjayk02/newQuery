package main

import (
    "fmt"
    "net/http"
    "strconv"

    "github.com/gin-gonic/gin"
)

func main() {
    router := gin.Default()

    // API base group
    apiRouter := router.Group("/api")

    // ✅ your route here (DON’T repeat /api)
    apiRouter.GET("/latest/review-submissions/:project", func(c *gin.Context) {
        project := c.Param("project")
        sort := c.Query("sort")
        limitStr := c.DefaultQuery("limit", "50")
        offsetStr := c.DefaultQuery("offset", "0")

        limit, _ := strconv.Atoi(limitStr)
        offset, _ := strconv.Atoi(offsetStr)

        fmt.Printf("➡️ Project=%s Sort=%s Limit=%d Offset=%d\n", project, sort, limit, offset)

        // TODO: call reviewInfoRepository.ListLatestSubmissionsWithSort here
        c.JSON(http.StatusOK, gin.H{
            "project": project,
            "sort":    sort,
            "limit":   limit,
            "offset":  offset,
            "data":    []string{}, // placeholder
        })
    })

    router.Run(":3000")
}


http://localhost:3000/api/latest/review-submissions/potoodev
