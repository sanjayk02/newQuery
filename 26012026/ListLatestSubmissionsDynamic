func (r *ReviewInfo) ListLatestSubmissionsDynamic(
    ctx context.Context,
    project string,
    root string,
    preferredPhase string,
    orderKey string,
    direction string,
    limit, offset int,
    assetNameKey string,
    approvalStatuses []string,
    workStatuses []string,
) ([]LatestSubmissionRow, error) {
    if project == "" {
        return nil, fmt.Errorf("project is required")
    }
    
    // SIMPLIFIED QUERY - No CTEs, no window functions
    query := `
        SELECT 
            a.root,
            a.project,
            a.group_1,
            a.relation,
            a.phase,
            a.submitted_at_utc
        FROM t_review_info a
        INNER JOIN (
            SELECT 
                project,
                root,
                group_1,
                relation,
                MAX(modified_at_utc) as max_modified
            FROM t_review_info 
            WHERE project = ? 
              AND root = ? 
              AND deleted = 0
            GROUP BY project, root, group_1, relation
        ) b ON a.project = b.project 
            AND a.root = b.root 
            AND a.group_1 = b.group_1 
            AND a.relation = b.relation 
            AND a.modified_at_utc = b.max_modified
        WHERE a.deleted = 0
        ORDER BY a.group_1 ASC
        LIMIT ? OFFSET ?
    `
    
    var rows []LatestSubmissionRow
    err := r.db.WithContext(ctx).Raw(query, project, root, limit, offset).Scan(&rows).Error
    if err != nil {
        return nil, fmt.Errorf("ListLatestSubmissionsDynamic: %w", err)
    }
    
    return rows, nil
}
